#!/bin/bash
source "$(dirname "${BASH_SOURCE[0]}")/../lib/init"

# Get the command and length
command=$1
length=${2:-16}

# Check if the required arguments are provided
[[ -z "$1" ]] && b/usage -t "options" -w 2 $0 \
    ":1" "= command (string or number)" \
    ":2" "= length of the string or number (default: 16)" && exit 0;

[[ ! $length =~ ^[0-9]+$ ]] && echo "Invalid length: $length. Must be a positive integer." && exit 1;

case $command in

    string )
        # Generate a random alphanumeric string of the given length
        echo $(LC_ALL=C tr -dc 'a-zA-Z0-9' < /dev/urandom | head -c $length)
        ;;
    number )
        # Generate a random numeric string of the given length
        echo $(LC_ALL=C tr -dc '0-9' < /dev/urandom | head -c $length)
        ;;
    * )
        echo "Invalid command: $command. Must be 'string' or 'number'."
        exit 1
        ;;
esac