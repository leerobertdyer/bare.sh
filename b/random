#!/usr/bin/env bash
source "$(dirname "${BASH_SOURCE[0]}")/../lib/init"

doc=$(cat <<'EOF'

# random

Generate a random string or number of a given length

`string (:length)`	| Generate a random string
`number (:length)`	| Generate a random number

> random string 32	| Generate a random string of length 32
> random number 8	| Generate a random number of length 8

EOF
) && export doc && b/inspect "$@"

# Get the command and length
command=$1
length=${2:-16}

[[ ! $length =~ ^[0-9]+$ ]] && echo "Invalid length: $length. Must be a positive integer." && exit 1;

case $command in
    string ) echo $(LC_ALL=C tr -dc 'a-zA-Z0-9' < /dev/urandom | head -c $length) ;;
    number ) echo $(LC_ALL=C tr -dc '0-9' < /dev/urandom | head -c $length) ;;
    * ) echo "Invalid command: $command" && exit 1 ;;
esac